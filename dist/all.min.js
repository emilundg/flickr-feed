function clearPreviousImages(){for(;galleryContainer.firstChild;)galleryContainer.removeChild(galleryContainer.firstChild)}function imageURLBuilder(e){return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg"}function displayImages(e){var t=galleryContainer.classList,l="error-message__no-result";t.contains(l)&&t.remove(l),e.forEach(function(e){var t=this.createImageElement(e);galleryContainer.appendChild(t)})}function createImageElement(e){var t=document.createElement("div");return t.setAttribute("style","background-image: url("+e+");"),t.classList.add("gallery__image"),t.addEventListener("click",function(){openModal(e)}),t}function displayLoader(){var e=document.getElementById("loaderContainer");if(0===e.childElementCount){var t=document.createElement("img");t.src="https://raw.githubusercontent.com/emilundg/flickr-feed/master/resources/images/loader.gif",t.id="loader",t.classList.add("center"),e.appendChild(t)}}function removeLoader(){var e=document.getElementById("loader");e&&e.remove()}var galleryContainer=document.getElementById("galleryContainer"),form=document.querySelector("form");function displayEmpty(){var e=document.createElement("h2");e.textContent="No images found! Try searching for something else.",e.classList.add("center"),galleryContainer.appendChild(e),galleryContainer.classList.add("error-message__no-result")}form.addEventListener("submit",function(e){e.preventDefault(),displayLoader(),clearPreviousImages();var t=document.getElementById("searchInput").value;fetchImages(t).then(function(e){removeLoader(),0<e.length?this.displayImages(e):this.displayEmpty()})});var modalElement=document.getElementById("galleryModal");function openModal(e){var t=copyImageElement(e);modalElement.appendChild(t);var l=getYScrollPosition();modalElement.style.top=l+"px",enableClose(),disableScroll(),modalElement.style.visibility="visible"}function copyImageElement(e){var t=document.createElement("div");return t.setAttribute("style","background-image: url("+e+");"),t.classList.add("gallery__image"),t}function getYScrollPosition(){return window.scrollY}function enableClose(){document.addEventListener("keyup",enableKeyboardClose),modalElement.addEventListener("click",function(){closeModal()})}function enableKeyboardClose(){27===window.event.keyCode&&closeModal()}function disableKeyboardClose(){document.removeEventListener("keyup",enableKeyboardClose)}function disableScroll(){document.body.style.overflow="hidden"}function enableScroll(){document.body.style.overflow="visible"}function closeModal(){disableKeyboardClose(),enableScroll(),modalElement.firstChild&&modalElement.removeChild(modalElement.firstChild),modalElement.style.visibility="hidden"}